///////////////////////////////////////////////////////////////////////////////
// G E N E R A T E D    S O U R C E
// ------------------------------
// Path expression: {{{ cleanup template.pathExpression }}}
// Template name: {{ template.templateName }}

import { useEffect, useState } from 'react';
import { ThemeProvider } from '@mui/material';
import { L10NProvider } from './l10n/l10n-context';
import { theme } from './theme';
import { DialogProvider, BreadcrumbProvider, SnackProvider, MdiIcon } from './components';
import { Layout } from './layout';
import { menuItems } from './menu-items';
import { useHeroProps, useLogoProps } from './hooks';
{{# if application.authentication }}
    import { PrincipalProvider } from './auth';
{{/ if }}

function App() {
    const [drawerWidth] = useState<number>(300);
    const heroProps = useHeroProps();
    const logoProps = useLogoProps();

    return (
        <L10NProvider>
            <ThemeProvider theme={theme}>
                {{# if application.authentication }}
                <PrincipalProvider>
                {{/ if }}
                    <SnackProvider>
                        <DialogProvider>
                            <BreadcrumbProvider>
                                <Layout items={menuItems} drawerWidth={drawerWidth} logo={logoProps} hero={heroProps} />
                            </BreadcrumbProvider>
                        </DialogProvider>
                    </SnackProvider>
                {{# if application.authentication }}
                </PrincipalProvider>
                {{/ if }}
            </ThemeProvider>
        </L10NProvider>
    );
}

export default App;
