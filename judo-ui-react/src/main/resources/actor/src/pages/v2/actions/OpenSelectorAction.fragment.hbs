const {{ simpleActionDefinitionName action.actionDefinition }} = async () => {
  // alert('OpenSelectorAction');
  const { result, data: returnedData } = await open{{ pageName action.targetPageDefinition }}({{{ getSelectorOpenActionParameters action page.container }}});
  if (result === 'submit') {
    {{# if action.targetPageDefinition.container.isRelationSelector }}
      if (Array.isArray(returnedData) && returnedData.length) {
        {{# with (getLinkParentForActionDefinition action.actionDefinition) as |link| }}
          storeDiff('{{ link.dataElement.name }}', returnedData[0]);
        {{/ with }}
        {{# with (getTableParentForActionDefinition action.actionDefinition) as |table| }}
          {{# if table.isEager }}
            storeDiff('{{ table.dataElement.name }}', [...(data.{{ table.dataElement.name }} || []), ...returnedData]);
          {{/ if }}
        {{/ with }}
      }
    {{/ if }}
  } else if (result === 'close') {
    {{# if page.container.view }}
      if (!editMode) {
        {{# with (getRefreshActionDefinitionForContainer page.container) as |actionDefinition| }}
          await actions.{{ simpleActionDefinitionName actionDefinition }}!(processQueryCustomizer(pageQueryCustomizer));
        {{/ with }}
      }
    {{/ if }}
    {{# if page.container.table }}
      setRefreshCounter((prev) => prev + 1);
    {{/ if }}
  }
};
