import { useEffect, useState, useImperativeHandle, useMemo, useRef, forwardRef } from 'react';
import type { MouseEvent } from 'react';
import type { JudoIdentifiable } from '@judo/data-api-common';
import { OBJECTCLASS } from '@pandino/pandino-api';
import { useTrackService } from '@pandino/react-hooks';
import { useTranslation } from 'react-i18next';
import { Button, ButtonGroup } from '@mui/material';
import type { {{ getMuiDataGridImportsForTables }} } from '@mui/x-data-grid{{ getMUIDataGridPlanSuffix }}';
import { GridToolbarContainer, GridToolbarFilterButton } from '@mui/x-data-grid{{ getMUIDataGridPlanSuffix }}';
import { MdiIcon, CustomTablePagination } from '~/components';
import { baseColumnConfig, baseTableConfig, toastConfig, DIVIDER_HEIGHT } from '~/config';
import { useFilterDialog, useRangeDialog } from '~/components/dialog';
import {
    columnsActionCalculator,
    {{# if isUseInlineColumnFilters }}
    stringColumnOperators,
    numericColumnOperators,
    dateColumnOperators,
    dateTimeColumnOperators,
    booleanColumnOperators,
    singleSelectColumnOperators,
    {{/ if }}
} from '~/components/table';
import { FilterOption, FilterType, Filter } from '~/components-api';
import type { PersistedTableData, RefreshableTable, TableRowAction } from '~/utilities';
import { useDataStore } from '~/hooks';
import {
    decodeToken,
    fileHandling,
    serviceDateToUiDate,
    serviceTimeToUiTime,
    processQueryCustomizer,
    mapAllFiltersToQueryCustomizerProperties,
    mapFilterModelToFilters,
    mapFilterToFilterModel,
    useErrorHandler,
    ERROR_PROCESSOR_HOOK_INTERFACE_KEY,
} from '~/utilities';
import { useL10N } from '~/l10n/l10n-context';
import { ContextMenu, StripedDataGrid } from '~/components/table';
import type { ContextMenuApi } from '~/components/table/ContextMenu';
{{# if (stringValueIsTrue useTableRowHighlighting) }}
import { RowHighlightLegend } from '~/components/table';
import { TABLE_ROW_HIGHLIGHTING_HOOK_INTERFACE_KEY, transformRowStylings } from '~/theme/table-row-highlighting';
import type { RowStylerConfigured, TableRowHighlightingHook } from '~/theme/table-row-highlighting';
{{/ if }}
